#pragma once

#include <chrono>
#include <mutex>

enum class InputAction
{
	Unknown = -1,

	// UI Controls
	PauseMenu = 0,
	ToggleScoreboard = 30,

	// Theater
	TogglePanel = 59,		
	ToggleInterface = 58,
	TogglePOV = 60,
	CameraReset,			// It doesn't use the GetButtonState function
	NextPlayer = 78,
	PreviousPlayer = 77,
	JumpForward = 80, 
	JumpBackward = 79,
	PlayPause = 56, 
	FastForward = 33, 
	ToggleFreecam = 72,
	Boost = 57, 
	FasterBoost = 69, 
	Ascend = 34, 
	Descend = 48,
	TheaterPanning,			// I don't have this one
};

enum class InputContext
{
	Unknown, Communication, Movement,
	Actions, VehicleControls, UIControls,
	Theater, Forge,
};

struct GameInput
{
	InputContext InputContext;
	InputAction InputAction;
};

extern GameInput g_NextInput;
extern std::atomic<bool> g_IsPressing;

namespace GetButtonState_Hook
{
	void Install();
	void Uninstall();
}

/*

	Third Person Attached:

		00007FF3CF07C7B8  58 A6 C5 17 FA 7F 00 00 68 DF CA 17 FA 7F 00 00    
		00007FF3CF07C7C8  86 02 F5 E4 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C7D8  00 00 00 00 00 00 00 00 00 00 80 3F 00 00 00 00    
		00007FF3CF07C7E8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C7F8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C808  65 71 41 3E 47 9E A4 3F B1 8E 3E BB 02 00 C8 B4    
		00007FF3CF07C818  02 00 48 36 02 00 C8 31 86 02 F5 E4 00 E8 AD 45    
		00007FF3CF07C828  00 00 00 00 00 00 FF FF 41 18 00 00 42 31 59 42    
		00007FF3CF07C838  FF EC AD BE A1 42 03 42 E0 CF C6 3C EB 51 38 3E    
		00007FF3CF07C848  00 54 75 BB 00 00 00 00 00 00 00 00 FC 0E 2C 3F    
		00007FF3CF07C858  AA 61 9C 3F 6C 49 E2 3D 7B AC 7A 3F 85 4A 2E BE    
		00007FF3CF07C868  C8 57 9C 3C 26 31 2D 3E BC 43 7C 3F 00 00 00 00    
		00007FF3CF07C878  00 00 00 00 00 00 00 80 00 00 00 00 00 00 00 00    
		00007FF3CF07C888  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C898  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C8A8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C8B8  80 3C 59 42 54 ED 9A BE 78 0E 03 42 00 00 00 00    
		00007FF3CF07C8C8  86 02 F5 E4 00 00 00 00 01 00 00 00 00 00 00 00    
		00007FF3CF07C8D8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C8E8  00 00 00 00 C2 B8 32 3E 00 00 80 40 00 00 80 3F    
		00007FF3CF07C8F8  00 00 20 41 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C908  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C918  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C928  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C938  00 00 00 00 00 00 70 EC FF FF FF FF 00 00 00 00    
		00007FF3CF07C948  00 00 00 00 00 00 00 00 00 01 00 00 00 00 00 00    
		00007FF3CF07C958  00 00 00 00 00 00 00 00 00 00 00 00 58 A6 C5 17    
		00007FF3CF07C968  FA 7F 00 00 40 84 C5 17 FA 7F 00 00 FF FF FF FF    
		00007FF3CF07C978  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C988  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C998  00 00 00 00 00 00 00 00 00 00 00 00 1C 00 00 00    
		00007FF3CF07C9A8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C9B8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C9C8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C9D8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C9E8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07C9F8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA08  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA18  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA28  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA38  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA48  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA58  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA68  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA78  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA88  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CA98  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CAA8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CAB8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CAC8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CAD8  00 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00    
		00007FF3CF07CAE8  FF FF FF FF FF FF FF FF 00 00 00 00 03 00 00 00    
		00007FF3CF07CAF8  00 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CB08  00 00 00 00 00 00 00 00 58 A6 C5 17 FA 7F 00 00    
		00007FF3CF07CB18  40 84 C5 17 FA 7F 00 00 FF FF FF FF 00 00 00 00    
		00007FF3CF07CB28  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CB38  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CB48  00 00 00 00 00 00 00 00 1C 00 00 00 00 00 00 00    
		00007FF3CF07CB58  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CB68  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CB78  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CB88  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CB98  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CBA8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CBB8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CBC8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CBD8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CBE8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CBF8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CC08  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CC18  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CC28  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CC38  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CC48  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CC58  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CC68  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CC78  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CC88  00 00 00 00 00 00 00 00 02 00 00 00 FF FF FF FF    
		00007FF3CF07CC98  FF FF FF FF 00 00 00 00 03 00 00 00 00 00 00 00    
		00007FF3CF07CCA8  01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CCB8  00 00 00 00 58 A6 C5 17 FA 7F 00 00 40 84 C5 17    
		00007FF3CF07CCC8  FA 7F 00 00 FF FF FF FF 00 00 00 00 00 00 00 00    
		00007FF3CF07CCD8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CCE8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00    
		00007FF3CF07CCF8  00 00 00 00 1C 00 00 00 00 00 00 00 00 00 00 00    


		 
	Third Person Non-Attached:

		00007FF3CF07C7B8  58 A6 C5 17 FA 7F 00 00 F0 DF CA 17 FA 7F 00 00  
		00007FF3CF07C7C8  86 02 F5 E4 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C7D8  E9 AD BA 3F D0 24 2F BE 00 00 80 3F 66 66 E6 3E  
		00007FF3CF07C7E8  00 00 00 00 01 01 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C7F8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C808  65 71 41 3E 47 9E A4 3F B1 8E 3E BB 02 00 C8 B4  
		00007FF3CF07C818  02 00 48 36 02 00 C8 31 86 02 F5 E4 00 E8 AD 45  
		00007FF3CF07C828  00 00 00 00 00 00 FF FF 41 08 00 00 E3 32 59 42  
		00007FF3CF07C838  03 94 A7 BE 20 8B 04 42 00 00 00 00 00 00 00 00  
		00007FF3CF07C848  00 00 00 00 00 00 00 00 00 00 00 00 00 00 80 3F  
		00007FF3CF07C858  AA 61 9C 3F 6C 49 E2 3D 7B AC 7A 3F 85 4A 2E BE  
		00007FF3CF07C868  C8 57 9C 3C 26 31 2D 3E BC 43 7C 3F 00 00 00 00  
		00007FF3CF07C878  00 00 00 00 00 00 00 80 00 00 00 00 00 00 00 00  
		00007FF3CF07C888  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C898  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C8A8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C8B8  5D 34 59 42 5B 78 A3 BE 34 85 02 42 00 00 00 00  
		00007FF3CF07C8C8  86 02 F5 E4 00 00 00 00 01 00 00 00 00 00 00 00  
		00007FF3CF07C8D8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C8E8  00 00 00 00 C2 B8 32 3E 00 00 80 40 00 00 80 3F  
		00007FF3CF07C8F8  00 00 20 41 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C908  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C918  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C928  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C938  00 00 00 00 00 00 70 EC FF FF FF FF 00 00 00 00  
		00007FF3CF07C948  01 00 00 00 00 00 00 00 00 01 00 00 00 00 00 00  
		00007FF3CF07C958  00 00 00 00 00 00 00 00 00 00 00 00 58 A6 C5 17  
		00007FF3CF07C968  FA 7F 00 00 40 84 C5 17 FA 7F 00 00 FF FF FF FF  
		00007FF3CF07C978  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C988  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C998  00 00 00 00 00 00 00 00 00 00 00 00 1C 00 00 00  
		00007FF3CF07C9A8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C9B8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C9C8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C9D8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C9E8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07C9F8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA08  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA18  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA28  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA38  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA48  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA58  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA68  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA78  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA88  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CA98  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CAA8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CAB8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CAC8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CAD8  00 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00  
		00007FF3CF07CAE8  FF FF FF FF FF FF FF FF 00 00 00 00 03 00 00 00  
		00007FF3CF07CAF8  00 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CB08  00 00 00 00 00 00 00 00 58 A6 C5 17 FA 7F 00 00  
		00007FF3CF07CB18  40 84 C5 17 FA 7F 00 00 FF FF FF FF 00 00 00 00  
		00007FF3CF07CB28  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CB38  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CB48  00 00 00 00 00 00 00 00 1C 00 00 00 00 00 00 00  
		00007FF3CF07CB58  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CB68  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CB78  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CB88  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CB98  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CBA8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CBB8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CBC8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CBD8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CBE8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CBF8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CC08  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CC18  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CC28  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CC38  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CC48  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CC58  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CC68  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CC78  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CC88  00 00 00 00 00 00 00 00 02 00 00 00 FF FF FF FF  
		00007FF3CF07CC98  FF FF FF FF 00 00 00 00 03 00 00 00 00 00 00 00  
		00007FF3CF07CCA8  01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CCB8  00 00 00 00 58 A6 C5 17 FA 7F 00 00 40 84 C5 17  
		00007FF3CF07CCC8  FA 7F 00 00 FF FF FF FF 00 00 00 00 00 00 00 00  
		00007FF3CF07CCD8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CCE8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
		00007FF3CF07CCF8  00 00 00 00 1C 00 00 00 00 00 00 00 00 00 00 00  


*/